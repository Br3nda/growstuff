- content_for :title, "Inbox"
- content_for :breadcrumbs do
  %li.breadcrumb-item.active= link_to 'Messages', notifications_path

- if @notifications.empty?
  .alert.alert-success{role: "alert"} You have no messages.
- else
  = paginate @notifications

  - @notifications.each do |n|

    .card.message-card
      .card-header
        %span.text-muted.float-right #{time_ago_in_words n.created_at} ago
        %h3
          - if n.read
            = icon 'far', 'envelope-open'
          - else
            %span.badge.badge-primary
              = icon 'far', 'envelope'
              unread
          - if n.item.present?
            %span.badge.badge-info=n.item_type
          = link_to  n.subject, notification_path(n)
      .card-body
        .row
          .col-8
            - if n.item.present?
              = render n.item
          .col-4.text-right
            = link_to n.sender do
              %h3
                = render 'members/tiny', member: n.sender
                = n.sender
            = render 'members/follow_buttons', member: n.sender
      .card-footer
        .float-right
          = link_to 'Read', n, class: 'btn btn-primary'
          = link_to 'Reply', reply_link(n), class: 'btn btn-secondary'
          = link_to n, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-default btn-danger btn-xs' do
            = delete_icon
            = t('buttons.delete')
  = paginate @notifications